(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb255e7e"],{e464:function(module,__webpack_exports__,__webpack_require__){"use strict";var _vue_echarts_vue_echarts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("67fc"),_vue_echarts_vue_echarts__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_vue_echarts_vue_echarts__WEBPACK_IMPORTED_MODULE_0__);__webpack_exports__["a"]={name:"StatsBase",components:{"v-chart":_vue_echarts_vue_echarts__WEBPACK_IMPORTED_MODULE_0___default.a},data(){const t=this;return{isLoaded:!1,is_pro:t.$cnf.is_pro,overview:[],inc_type:1,idx_data:[[0,0,0,0],[0,0,0,0],[0,0,0,0]],day:7,chart_cnf:{},wb_idx_data_updated:"-"}},created(){this.loadData(),this.$cnf.is_pro>0&&this.$isPrdActive(this.$WB)},mounted(){const t=this;t.collectionOverview(7)},methods:{loadOverview(t){const a=this;a.inc_type=t,a.loadData()},loadData(){const t=this;t.log_loading=t.$wbui.loading(),t.$api.getData({_ajax_nonce:window._wb_bsl_ajax_nonce||"",action:t.$cnf.action.act,op:"get_stats",type:t.inc_type}).then(a=>{const e=a.data;t.idx_data=e.idx_data||[],t.wb_idx_data_updated=e.wb_idx_data_updated,t.isLoaded=!0,t.$wbui.close(t.log_loading)})},aboutPro(){this.$router.push({path:"/pro"})},overviewData(t,a){const e=t||30,o=this;let s=[[],[],[],[]];return o.$api.fetchData({_ajax_nonce:window._wb_bsl_ajax_nonce||"",action:o.$cnf.action.act,op:"index_stat",day:e}).then(t=>{s=t.data?t.data:s,a&&a(s)}).catch(()=>{s[0]=o.zeroData(e),s[1]=o.zeroData(e),s[2]=o.zeroData(e),a&&a(s)}),s},collectionOverview(t){const a=this,e=t||7;a.day=t;const o=a.dateXAxis(e);a.overviewData(e,t=>{if(a.is_pro)a.chart_cnf=Object.assign({},a.$echart_cnf),a.chart_cnf.grid={show:!0,left:"left",containLabel:!0,top:20,right:20,bottom:80,backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(255,255,255,0)"},a.chart_cnf.xAxis.data=o,a.chart_cnf.series=[{name:"百度收录",data:t[0],type:"line",smooth:!0},{name:"必应收录",data:t[1],type:"line",smooth:!0}];else{const s=a.zeroData(e),n=Object.assign({},a.$echart_cnf);a.chart_cnf=a.$handlerChartOption(n,a.day),a.chart_cnf.xAxis.data=o,a.chart_cnf.grid={show:!0,left:"left",containLabel:!0,top:20,right:20,bottom:80,backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(255,255,255,0"},a.chart_cnf.series=[{name:"整站收录",data:t[0],type:"line",smooth:!0},{name:"必应收录",data:s,type:"line",smooth:!0}]}})},dataExtend(obj,cnf){const vm=this;let def_cnf=JSON.stringify(vm.$echart_cnf,(t,a)=>"function"===typeof a?a+"":a);def_cnf=JSON.parse(def_cnf,(k,v)=>v.indexOf&&v.indexOf("function")>-1?eval("(function(){return "+v+" })()"):v);const newobj=cnf&&"object"===typeof cnf?cnf:def_cnf;for(const t in obj)"object"===typeof newobj[t]?newobj[t]=vm.dataExtend(obj[t],newobj[t]):newobj[t]=obj[t];return newobj},update_index_data(){const t=this;t.$api.saveData({_ajax_nonce:window._wb_bsl_ajax_nonce||"",action:t.$cnf.action.act,op:"update_index_data"}).then(t=>{console.log(t),window.location.reload()})},dateXAxis(t){if(!t)return!1;const a=[],e=(new Date).getTime(),o=new Date;let s="";for(let n=0;n<t;n++)o.setTime(e-864e5*n),s=o.getMonth()<9?"0"+(o.getMonth()+1)+"-":o.getMonth()+1+"-",o.getDate()<10?s+="0"+o.getDate():s+=o.getDate(),a.unshift(s);return a},zeroData(t){const a=t||30,e=[];for(let o=0;o<a;o++)e.push(0);return e}}}},e901:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.isLoaded,expression:"!isLoaded"}],staticClass:"sc-wp overview-with-charts wbs-main",class:{"wb-page-loaded":t.isLoaded}},[e("h3",{staticClass:"sc-header ov-header"},[t._e(),e("strong",[t._v("收录概况")])]),e("div",{staticClass:"overview-box"},[e("div",{staticClass:"align-center"},[e("el-radio-group",{staticClass:"for-tab-nav",attrs:{size:t.$cnf.is_mobile?"medium":"small"},on:{change:function(a){return t.loadOverview(a)}},model:{value:t.inc_type,callback:function(a){t.inc_type=a},expression:"inc_type"}},[e("el-radio-button",{attrs:{label:1}},[t._v("月新增")]),e("el-radio-button",{attrs:{label:2}},[t._v("季新增")]),e("el-radio-button",{attrs:{label:3}},[t._v("年新增")])],1)],1),e("table",{staticClass:"wbs-table mt"},[e("thead",[e("tr",[e("td"),e("td",[e("svg",{staticClass:"wb-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"}},[e("path",{attrs:{fill:"#3245DF",d:"M184.7 538.8c111.2-24 96-156.8 92.7-185.8-5.5-44.8-58.1-123-129.6-116.8-90 8-103.1 138-103.1 138-12.2 60 29 188.5 140 164.6zm118 231c-3.2 9.4-10.5 33.3-4.2 54 12.4 46.8 53 48.9 53 48.9h58.1V730.3h-62.3a68.3 68.3 0 0 0-44.6 39.6zM391 316c61.4 0 111-70.7 111-158C502 70.5 452.5 0 391 0c-61.3 0-111 70.6-111 158 0 87.3 49.7 158 111 158zm264.5 10.4c82 10.7 134.8-77 145.3-143.3 10.7-66.3-42.2-143.3-100.3-156.5-58.2-13.4-131 79.9-137.6 140.7-7.9 74.3 10.7 148.6 92.6 159.1zm201 390.2s-126.9-98.2-201-204.4C555 355.7 412.3 419.4 364.5 499 317 578.6 243 629 232.4 642.3 221.7 655.4 79 732.4 110.7 873.2c31.7 140.6 143 137.9 143 137.9s82 8 177-13.2c95.2-21.1 177.1 5.2 177.1 5.2s222.3 74.5 283.2-68.8c60.7-143.4-34.4-217.7-34.4-217.7zM476.4 930H331.7c-62.4-12.5-87.2-55-90.4-62.3-3-7.4-20.8-41.6-11.4-99.9 27-87.2 103.9-93.5 103.9-93.5h77v-94.5l65.4 1v349.2zm269.1-1H579.1c-64.4-16.6-67.4-62.4-67.4-62.4v-184l67.4-1v165.3c4.1 17.6 26 20.8 26 20.8h68.5v-185h71.8v246.3zm235.4-491c0-31.8-26.4-127.4-124.2-127.4-98 0-111.1 90.3-111.1 154 0 61 5.1 146 126.9 143.3 121.7-2.7 108.4-138 108.4-170zm0 0"}})]),e("span",{staticClass:"ib"},[t._v("百度")])]),t._e(),e("td",[e("svg",{staticClass:"wb-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"}},[e("path",{attrs:{d:"m153.8 0 204.6 72v719.9l288.1-166.2-141.2-66.3-89.2-222 454 159.6v231.9L358.5 1024 154 910V0z"}})]),e("span",{staticClass:"ib"},[t._v("必应")])])])]),e("tbody",[e("tr",[e("td",[t._v("当前收录")]),e("td",[t._v(t._s(t.idx_data[0][1]))]),t._e(),e("td",[t._v(t._s(t.idx_data[0][2]))])]),e("tr",[e("td",[t._v(" "+t._s({1:"一个月前",2:"一季度前",3:"一年前"}[t.inc_type])+" ")]),e("td",[t._v(t._s(t.idx_data[1][1]))]),t._e(),e("td",[t._v(t._s(t.idx_data[1][2]))])]),e("tr",[e("td",[t._v("新增收录数")]),e("td",[t._v(t._s(t.idx_data[2][1]))]),t._e(),e("td",[t._v(t._s(t.idx_data[2][2]))])])])])]),e("div",{staticClass:"overview-charts"},[e("div",{staticClass:"align-center"},[e("el-radio-group",{staticClass:"for-tab-nav",attrs:{size:t.$cnf.is_mobile?"medium":"small"},on:{change:function(a){return t.collectionOverview(a)}},model:{value:t.day,callback:function(a){t.day=a},expression:"day"}},[e("el-radio-button",{attrs:{label:7}},[t._v("近7天")]),e("el-radio-button",{attrs:{label:30}},[t._v("近30天")])],1)],1),e("v-chart",{staticClass:"charts-box",attrs:{options:t.chart_cnf}})],1),e("wb-prompt",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}],staticClass:"mt"})],1)},s=[],n=e("e464"),i=n["a"],c=e("2877"),_=Object(c["a"])(i,o,s,!1,null,null,null);a["default"]=_.exports}}]);